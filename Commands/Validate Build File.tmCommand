<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>beforeRunningCommand</key>
	<string>saveActiveFile</string>
	<key>command</key>
	<string># When formatting is ok keep quiet, otherwise show lint errors as a tooltip

if [ "$TM_ANT_DTD_VALIDATION" == "true" ]; then
	
	TM_ANT_DTD_FILE="$TM_BUNDLE_PATH/Support/data/ant.dtd"

	if [[ -f "$TM_ANT_DTD_FILE" ]]; then
		xmllint --noout --dtdvalid "$TM_ANT_DTD_FILE" - &amp;&amp; exit_discard
	else
		echo "Please run the command 'Create Ant.dtd' to validate against the default ant.dtd."
	fi

else

	xmllint --noout - &amp;&amp; exit_discard

fi


</string>
	<key>input</key>
	<string>document</string>
	<key>keyEquivalent</key>
	<string>^V</string>
	<key>name</key>
	<string>Validate Build File</string>
	<key>output</key>
	<string>showAsTooltip</string>
	<key>scope</key>
	<string>text.xml.ant</string>
	<key>uuid</key>
	<string>080190AE-FCEF-47BF-86E2-6CC48C8B3E8B</string>
</dict>
</plist>
